{"ast":null,"code":"import _slicedToArray from\"C:/\\u0418\\u043B\\u044C\\u044F/FrontEndPro/\\u041A\\u0443\\u0440\\u0441\\u044B \\u041C\\u0438\\u043D\\u0438\\u043D 4 \\u043F\\u043E\\u0442\\u043E\\u043A/React/Fast Company/course_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import api from\"../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Users=function Users(){var _useState=useState(api.users.fetchAll()),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var userOfUsersList=users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.qualities.map(function(quality){return/*#__PURE__*/_jsx(\"span\",{className:'badge m-2 bg-'+quality.color,children:quality.name},quality._id);})}),/*#__PURE__*/_jsx(\"td\",{children:user.profession.name}),/*#__PURE__*/_jsx(\"td\",{children:user.completedMeetings}),/*#__PURE__*/_jsx(\"td\",{children:user.rate+' /5'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return handleDelete(user._id);},children:\"delete\"})})]},user._id);});var handleDelete=function handleDelete(id){setUsers(users.filter(function(user){return user._id!==id;}));};var renderPhrase=function renderPhrase(number){var style=number>0?\"badge bg-primary\":\"badge bg-danger\";var typeOfWords=number>1&&number<5||number>20&&(number%10===2||number%10===3||number%10===4)?' человека тусанет с тобой сегодня':' человек тусанет с тобой сегодня';return/*#__PURE__*/_jsxs(\"span\",{className:style,children:[\" \",number>0?number+typeOfWords:'Никто с тобой не тусанет',\" \"]});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:renderPhrase(users.length)}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:users.length>0?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"name\",children:\"\\u0418\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"quality\",children:\"\\u041A\\u0430\\u0447\\u0435\\u0441\\u0442\\u0432\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"profession\",children:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"completedMeetings\",children:\"\\u0412\\u0441\\u0442\\u0440\\u0435\\u0442\\u0438\\u043B\\u0441\\u044F,\\u0440\\u0430\\u0437\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"rate\",children:\"\\u041E\\u0446\\u0435\\u043D\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"button\"})]}):''}),/*#__PURE__*/_jsx(\"tbody\",{children:userOfUsersList})]})]});};export default Users;","map":{"version":3,"names":["React","useState","api","Users","users","fetchAll","setUsers","userOfUsersList","map","user","name","qualities","quality","color","_id","profession","completedMeetings","rate","handleDelete","id","filter","renderPhrase","number","style","typeOfWords","length"],"sources":["C:/Илья/FrontEndPro/Курсы Минин 4 поток/React/Fast Company/course_project/src/components/users.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport api from \"../api\";\r\n\r\nconst Users = () => {\r\n\tconst [users, setUsers] = useState(api.users.fetchAll())\r\n\tconst userOfUsersList = users.map((user) => {\r\n\t\treturn(\r\n\t\t\t\t<tr key={user._id}>\r\n\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t<td>{user.qualities.map((quality) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<span key={quality._id}\r\n\t\t\t\t\t\t\t\tclassName={'badge m-2 bg-' + quality.color}>\r\n\t\t\t\t\t\t\t\t{quality.name}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>{user.profession.name}</td>\r\n\t\t\t\t\t<td>{user.completedMeetings}</td>\r\n\t\t\t\t\t<td>{user.rate + ' /5'}</td>\r\n\t\t\t\t\t<td><button className=\"btn btn-danger\" onClick = {()=>handleDelete(user._id)}>delete</button></td>\r\n\t\t\t\t</tr>\r\n\t\t);\r\n\t})\r\n\tconst handleDelete = (id) => {\r\n\t\tsetUsers(users.filter((user) => {\r\n\t\t\treturn user._id !== id;\r\n\t\t}))\r\n\t}\r\n\tconst renderPhrase = (number) => {\r\n\t\tconst style = number > 0 ? \"badge bg-primary\" : \"badge bg-danger\";\r\n\t\tconst typeOfWords = ((number > 1 && number < 5) || (number > 20 && (number % 10 === 2 || number % 10 === 3 || number % 10 === 4))) ? ' человека тусанет с тобой сегодня' : ' человек тусанет с тобой сегодня'\r\n\t\treturn <span className={style}> {number > 0 ? number + typeOfWords : 'Никто с тобой не тусанет'} </span>\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>{renderPhrase(users.length)}</h1>\r\n\t\t\t<table className=\"table\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t{users.length > 0 ?\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th scope=\"name\">Имя</th>\r\n\t\t\t\t\t\t\t<th scope=\"quality\">Качества</th>\r\n\t\t\t\t\t\t\t<th scope=\"profession\">Профессия</th>\r\n\t\t\t\t\t\t\t<th scope=\"completedMeetings\">Встретился,раз</th>\r\n\t\t\t\t\t\t\t<th scope=\"rate\">Оценка</th>\r\n\t\t\t\t\t\t\t<th scope=\"button\"></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t: ''\r\n\t\t\t\t\t}\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{userOfUsersList}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Users;"],"mappings":"8PAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,IAAP,KAAgB,QAAhB,C,6IAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CACnB,cAA0BF,QAAQ,CAACC,GAAG,CAACE,KAAJ,CAAUC,QAAV,EAAD,CAAlC,wCAAOD,KAAP,eAAcE,QAAd,eACA,GAAMC,gBAAe,CAAGH,KAAK,CAACI,GAAN,CAAU,SAACC,IAAD,CAAU,CAC3C,mBACE,mCACC,oBAAKA,IAAI,CAACC,IAAV,EADD,cAEC,oBAAKD,IAAI,CAACE,SAAL,CAAeH,GAAf,CAAmB,SAACI,OAAD,CAAa,CACpC,mBACC,aACC,SAAS,CAAE,gBAAkBA,OAAO,CAACC,KADtC,UAEED,OAAO,CAACF,IAFV,EAAWE,OAAO,CAACE,GAAnB,CADD,CAMA,CAPI,CAAL,EAFD,cAWC,oBAAKL,IAAI,CAACM,UAAL,CAAgBL,IAArB,EAXD,cAYC,oBAAKD,IAAI,CAACO,iBAAV,EAZD,cAaC,oBAAKP,IAAI,CAACQ,IAAL,CAAY,KAAjB,EAbD,cAcC,iCAAI,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAI,yBAAIC,aAAY,CAACT,IAAI,CAACK,GAAN,CAAhB,EAA9C,oBAAJ,EAdD,GAASL,IAAI,CAACK,GAAd,CADF,CAkBA,CAnBuB,CAAxB,CAoBA,GAAMI,aAAY,CAAG,QAAfA,aAAe,CAACC,EAAD,CAAQ,CAC5Bb,QAAQ,CAACF,KAAK,CAACgB,MAAN,CAAa,SAACX,IAAD,CAAU,CAC/B,MAAOA,KAAI,CAACK,GAAL,GAAaK,EAApB,CACA,CAFQ,CAAD,CAAR,CAGA,CAJD,CAKA,GAAME,aAAY,CAAG,QAAfA,aAAe,CAACC,MAAD,CAAY,CAChC,GAAMC,MAAK,CAAGD,MAAM,CAAG,CAAT,CAAa,kBAAb,CAAkC,iBAAhD,CACA,GAAME,YAAW,CAAKF,MAAM,CAAG,CAAT,EAAcA,MAAM,CAAG,CAAxB,EAA+BA,MAAM,CAAG,EAAT,GAAgBA,MAAM,CAAG,EAAT,GAAgB,CAAhB,EAAqBA,MAAM,CAAG,EAAT,GAAgB,CAArC,EAA0CA,MAAM,CAAG,EAAT,GAAgB,CAA1E,CAAhC,CAAiH,mCAAjH,CAAuJ,kCAA3K,CACA,mBAAO,cAAM,SAAS,CAAEC,KAAjB,eAA0BD,MAAM,CAAG,CAAT,CAAaA,MAAM,CAAGE,WAAtB,CAAoC,0BAA9D,OAAP,CACA,CAJD,CAKA,mBACC,wCACC,oBAAKH,YAAY,CAACjB,KAAK,CAACqB,MAAP,CAAjB,EADD,cAEC,eAAO,SAAS,CAAC,OAAjB,wBACC,uBACErB,KAAK,CAACqB,MAAN,CAAe,CAAf,cACA,mCACC,WAAI,KAAK,CAAC,MAAV,gCADD,cAEC,WAAI,KAAK,CAAC,SAAV,8DAFD,cAGC,WAAI,KAAK,CAAC,YAAV,oEAHD,cAIC,WAAI,KAAK,CAAC,mBAAV,6FAJD,cAKC,WAAI,KAAK,CAAC,MAAV,kDALD,cAMC,WAAI,KAAK,CAAC,QAAV,EAND,GADA,CASC,EAVH,EADD,cAcC,uBACElB,eADF,EAdD,GAFD,GADD,CAuBA,CAvDD,CAyDA,cAAeJ,MAAf"},"metadata":{},"sourceType":"module"}